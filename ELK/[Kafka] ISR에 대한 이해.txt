# Kafka - ISR에 대한 이해

# ISR(In Sync Replica) 이란
	- 리더 파티션과 팔로워 파티션이 존재할 때 리더 파티션과 팔로워 파티션의 오프셋이 일치하는 상태를 ISR이라고 함
	- 현재 리플리케이션이 되고 있는 리플리케이션 그룹(replication group)을 의미
	- 팔로워들이 리더의 메시지들을 전부다 받은 상태를 말하며 ISR그룹에 속함, 이때는 모두 리더가 가능함

	- ISR에 속해 있는 구성원 만이 리더의 자격을 가짐
	- 리더 파티션이 다운되었거나 제 기능을 하지 못할 때 ISR에 있는 파티션 중 하나가 리더로 승격됨
	- 리더는 팔로워들이 주기적으로 데이터를 싱크하는지 확인하며, 
		일정 주기 만큼 확인 후 팔로워에서 요청이 없으면 리더는 해당 팔로워의 이상을 감지함
		해당 팔로워는 리더의 역할을 대신할 수 없으므로 ISR 그룹에서 해당 팔로워를 추방함
	

	

